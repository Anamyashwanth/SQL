# 1. VIEW 

## What is a View?

A **View** is a virtual table created from a SELECT query.

* It **does not store data**
* It only stores the **query**
* When you select from a view, SQL Server fetches data from the original table

Think of it like:

> A saved SELECT query.

---

## Why use Views?

Use views when:

* Query is complex (joins, filters)
* Same query is used again and again
* You want to hide some columns (security)
* Used in reporting

---

## How View Works (Flow)

```
User → View → Actual Table
```

The view fetches data from the base table.

---

## Syntax

```sql
CREATE VIEW view_name
AS
SELECT column_list
FROM table_name
WHERE condition;
```

---

## Example

```sql
-- Create a view to show only required columns
CREATE VIEW vw_Employee
AS
SELECT 
    eid,        -- Employee ID
    name,       -- Employee Name
    salary      -- Salary
FROM tbl_emp;
```

Use the view:

```sql
-- Fetch data from view
SELECT * 
FROM vw_Employee;
```

What happens:

* SQL Server runs the stored SELECT query
* Data comes from `tbl_emp`

---

## View with Join (Real-time use)

```sql
CREATE VIEW vw_EmpDept
AS
SELECT 
    e.eid,
    e.name,
    d.dept_name
FROM tbl_emp e
JOIN tbl_dept d
ON e.dept_id = d.dept_id;
```

Used for:

* Reports
* Power BI
* Applications

---

## When NOT to use View

* When performance is critical (complex views)
* When data changes frequently and logic is heavy

---

# 2. INDEX
## What is an Index?

An **Index** is a structure that helps SQL Server **find data faster**.

Without index:

* SQL scans entire table (Full Table Scan)

With index:

* SQL directly finds the row (Index Seek)

Think of it like:

> Book index to find a page quickly.

---

## Why Index is needed?

Use index when:

* Column used in WHERE
* Column used in JOIN
* Column used in ORDER BY
* Column used in GROUP BY

---

## Types of Index

### 1. Clustered Index

* Physically sorts table data
* Only **one per table**

### Syntax

```sql
CREATE CLUSTERED INDEX idx_emp_eid
ON tbl_emp(eid);  -- Table data will be ordered by eid
```

---

### 2. Non-Clustered Index

* Separate structure
* Multiple allowed

### Syntax

```sql
CREATE NONCLUSTERED INDEX idx_emp_name
ON tbl_emp(name);  -- Speeds up search by name
```

---

### 3. Composite Index (Multiple columns)

```sql
CREATE NONCLUSTERED INDEX idx_emp_dept_salary
ON tbl_emp(dept_id, salary);  
-- Useful when query filters both columns
```

---

## How Index Improves Performance

Query:

```sql
SELECT *
FROM tbl_emp
WHERE dept_id = 2;
```

If index exists on `dept_id`:

* SQL uses **Index Seek**
* Very fast

Without index:

* SQL does **Table Scan**
* Slow for large tables

---

## When NOT to use Index

* Small tables
* Columns frequently updated
* Columns with very few unique values (like Gender)

Because:

* Index slows down INSERT/UPDATE/DELETE

---

## Drop Index

```sql
DROP INDEX idx_emp_name ON tbl_emp;
```

---


| View                          | Index                        |
| ----------------------------- | ---------------------------- |
| Virtual table                 | Performance structure        |
| Stores query                  | Stores sorted data reference |
| Used for readability/security | Used for speed               |

---

# Real-world Usage

Views:

* Reporting layer
* Power BI datasets
* Application queries

Indexes:

* Large tables
* High-performance systems
* Production databases

---

# One-line Memory

View simplifies data access; Index improves data retrieval speed.
