# üìò ALTER Command ‚Äì SQL Server (SSMS)

---

## 1Ô∏è‚É£ What is ALTER Command?

The **`ALTER` command** is a **DDL (Data Definition Language)** statement used to **modify the definition, structure, or properties of an existing database object** in SQL Server.

üîπ ALTER works **only on objects that already exist**
üîπ ALTER changes **structure, not data rows**

---

## 2Ô∏è‚É£ Why ALTER Command is Used?

ALTER is used when:

* Business requirements change
* New columns are required
* Existing column size is insufficient
* Rules (constraints) need modification
* Stored logic needs updates
* Performance tuning is required

üëâ Instead of **dropping and recreating objects (data loss risk)**, ALTER safely updates them.

---

## 3Ô∏è‚É£ Objects That Can Be ALTERed

| Object     | Purpose                  |
| ---------- | ------------------------ |
| DATABASE   | Change database settings |
| TABLE      | Modify table structure   |
| COLUMN     | Change column definition |
| CONSTRAINT | Add / drop rules         |
| VIEW       | Modify query logic       |
| PROCEDURE  | Update stored logic      |
| FUNCTION   | Update calculation       |
| SCHEMA     | Move objects             |
| INDEX      | Performance tuning       |

---

## 4Ô∏è‚É£ ALTER DATABASE

### üîπ Purpose

Modify **database-level properties**

---

### üîπ Syntax

```sql
ALTER DATABASE database_name
MODIFY | SET option;
```

---

### üîπ Example 1: Rename Database

```sql
ALTER DATABASE CollegeDB
MODIFY NAME = UniversityDB;
GO
```

**What happens**

* Database name changes
* Physical data files remain unchanged
* System metadata updated

---

### üîπ Example 2: Set Database READ ONLY

```sql
ALTER DATABASE UniversityDB
SET READ_ONLY;
GO
```

**Effect**

* INSERT / UPDATE / DELETE blocked
* SELECT allowed

---

### üîπ Example 3: Set Database READ WRITE

```sql
ALTER DATABASE UniversityDB
SET READ_WRITE;
GO
```

---

## 5Ô∏è‚É£ ALTER TABLE (MOST IMPORTANT)

### üîπ Purpose

Modify **table structure** without deleting data.

---

### üîπ General Syntax

```sql
ALTER TABLE table_name
ADD | ALTER COLUMN | DROP COLUMN definition;
```

---

## 6Ô∏è‚É£ ALTER TABLE ‚Äì ADD COLUMN

### üîπ Syntax

```sql
ALTER TABLE table_name
ADD column_name datatype;
```

### üîπ Example

```sql
ALTER TABLE Students
ADD Email VARCHAR(100);
GO
```

**What happens**

* New column added
* Existing rows get NULL values

---

## 7Ô∏è‚É£ ALTER TABLE ‚Äì ADD MULTIPLE COLUMNS

```sql
ALTER TABLE Students
ADD Phone VARCHAR(15),
    City VARCHAR(50);
GO
```

---

## 8Ô∏è‚É£ ALTER TABLE ‚Äì MODIFY COLUMN

### üîπ Syntax

```sql
ALTER TABLE table_name
ALTER COLUMN column_name new_definition;
```

### üîπ Example

```sql
ALTER TABLE Students
ALTER COLUMN StudentName VARCHAR(100);
GO
```

**What happens**

* Column size increased
* Existing data preserved
* SQL Server validates compatibility

---

## 9Ô∏è‚É£ ALTER TABLE ‚Äì DROP COLUMN

### üîπ Syntax

```sql
ALTER TABLE table_name
DROP COLUMN column_name;
```

### üîπ Example

```sql
ALTER TABLE Students
DROP COLUMN City;
GO
```

‚ö†Ô∏è Column data permanently removed

---

## üîü ALTER TABLE ‚Äì ADD CONSTRAINT

```sql
ALTER TABLE Students
ADD CONSTRAINT UQ_Email UNIQUE (Email);
GO
```

**What happens**

* Existing data validated
* Constraint enforced for future rows

---

## 1Ô∏è‚É£1Ô∏è‚É£ ALTER TABLE ‚Äì DROP CONSTRAINT

```sql
ALTER TABLE Students
DROP CONSTRAINT UQ_Email;
GO
```

---

## 1Ô∏è‚É£2Ô∏è‚É£ ALTER VIEW

### üîπ Purpose

Modify the **definition of an existing view**

---

### üîπ Syntax

```sql
ALTER VIEW view_name AS
SELECT query;
```

### üîπ Example

```sql
ALTER VIEW StudentView AS
SELECT StudentID, StudentName, Marks
FROM Students
WHERE Marks >= 60;
GO
```

---

## 1Ô∏è‚É£3Ô∏è‚É£ ALTER PROCEDURE

### üîπ Purpose

Update stored procedure logic

---

### üîπ Syntax

```sql
ALTER PROCEDURE procedure_name
AS
BEGIN
    SQL statements
END;
```

### üîπ Example

```sql
ALTER PROCEDURE GetStudents
AS
BEGIN
    SELECT StudentID, StudentName
    FROM Students;
END;
GO
```

---

## 1Ô∏è‚É£4Ô∏è‚É£ ALTER FUNCTION

### üîπ Purpose

Modify function logic

---

### üîπ Syntax

```sql
ALTER FUNCTION function_name (parameters)
RETURNS datatype
AS
BEGIN
    RETURN value
END;
```

### üîπ Example

```sql
ALTER FUNCTION GetResult (@Marks INT)
RETURNS VARCHAR(10)
AS
BEGIN
    RETURN
        CASE
            WHEN @Marks >= 75 THEN 'Dist'
            WHEN @Marks >= 60 THEN 'First'
            ELSE 'Pass'
        END
END;
GO
```

---

## 1Ô∏è‚É£5Ô∏è‚É£ ALTER SCHEMA

### üîπ Purpose

Move object between schemas

---

### üîπ Syntax

```sql
ALTER SCHEMA target_schema
TRANSFER source_schema.object;
```

### üîπ Example

```sql
ALTER SCHEMA Academics
TRANSFER dbo.Students;
GO
```

---

## 1Ô∏è‚É£6Ô∏è‚É£ ALTER INDEX

### üîπ Purpose

Improve query performance

---

### üîπ Syntax

```sql
ALTER INDEX index_name | ALL
ON table_name
REBUILD | DISABLE;
```

### üîπ Example

```sql
ALTER INDEX ALL
ON Students
REBUILD;
GO
```

---

## 1Ô∏è‚É£7Ô∏è‚É£ Important Characteristics of ALTER

| Point             | Explanation            |
| ----------------- | ---------------------- |
| Command Type      | DDL                    |
| Auto Commit       | Yes                    |
| Rollback          | ‚ùå Not possible         |
| Object Must Exist | Mandatory              |
| Data Impact       | Possible (DROP COLUMN) |

---

## 1Ô∏è‚É£8Ô∏è‚É£ Common Errors in ALTER

* Column already exists
* Invalid data conversion
* Constraint dependency
* Object not found
* Permission denied

---

## 1Ô∏è‚É£9Ô∏è‚É£ CREATE vs ALTER (Quick Comparison)

| CREATE                | ALTER                    |
| --------------------- | ------------------------ |
| Creates new object    | Modifies existing object |
| Used once             | Used many times          |
| Object must not exist | Object must exist        |
