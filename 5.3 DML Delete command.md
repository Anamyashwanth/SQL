# ğŸ“˜ DELETE Command â€“ SQL Server (SSMS)

---

## 1ï¸âƒ£ What is DELETE Command?

The **`DELETE` command** is a **DML (Data Manipulation Language)** statement used to **remove existing rows (records)** from a table.

ğŸ“Œ Key points:

* DELETE works on **data**, not structure
* Table **remains intact**
* DELETE can remove **one row, multiple rows, or all rows**

---

## 2ï¸âƒ£ Why DELETE Command is Used?

DELETE is used when:

* Unwanted or incorrect data must be removed
* Old records are no longer required
* Duplicate or invalid records exist
* Business rules demand data removal

ğŸ‘‰ DELETE helps maintain **data accuracy and cleanliness**.

---

## 3ï¸âƒ£ Position of DELETE in DML Flow

> **INSERT â†’ UPDATE â†’ DELETE**

* INSERT â†’ adds data
* UPDATE â†’ modifies data
* DELETE â†’ removes data

---

## 4ï¸âƒ£ Basic DELETE Syntax

### ğŸ”¹ Syntax

```sql
DELETE FROM table_name
WHERE condition;
GO
```

---

### ğŸ”¹ Example

```sql
DELETE FROM Students
WHERE StudentID = 1;
GO
```

---

### ğŸ”¹ What happens?

* Only rows matching the WHERE condition are deleted
* Table structure remains unchanged

---

## 5ï¸âƒ£ DELETE Without WHERE (Very Dangerous)

```sql
DELETE FROM Students;
GO
```

### What happens?

* **ALL rows** are deleted
* Table becomes empty
* Structure still exists

âš ï¸ **Most common production mistake**

---

## 6ï¸âƒ£ DELETE Multiple Rows Using WHERE

### Example

```sql
DELETE FROM Students
WHERE Marks < 60;
GO
```

### What happens?

* All students with marks below 60 are removed
* Controlled deletion using condition

---

## 7ï¸âƒ£ DELETE with JOIN (Real-Time Usage)

### Scenario

Delete students who appear in a **BlockedStudents** table.

---

### Syntax

```sql
DELETE target
FROM target_table target
JOIN source_table source
ON condition
WHERE filter_condition;
GO
```

---

### Example

```sql
DELETE S
FROM Students S
JOIN BlockedStudents B
ON S.StudentID = B.StudentID;
GO
```

### What happens?

* Rows are matched using JOIN
* Matching rows are deleted from Students

ğŸ”¥ Very common in real projects

---

## 8ï¸âƒ£ DELETE with JOIN + WHERE Condition

### Scenario

Delete blocked students **only if marks are below 50**.

```sql
DELETE S
FROM Students S
JOIN BlockedStudents B
ON S.StudentID = B.StudentID
WHERE S.Marks < 50;
GO
```

---

## 9ï¸âƒ£ DELETE Using Subquery

### Example

```sql
DELETE FROM Students
WHERE StudentID IN (
    SELECT StudentID FROM BlockedStudents
);
GO
```

### What happens?

* Subquery returns IDs
* DELETE removes matching rows

---

## ğŸ”Ÿ DELETE and TRANSACTIONS (SSMS Safety)

```sql
BEGIN TRAN;

DELETE FROM Students
WHERE StudentID = 3;

ROLLBACK;
GO
```

### What happens?

* Row deleted temporarily
* ROLLBACK restores data
* COMMIT would make it permanent

---

## 1ï¸âƒ£1ï¸âƒ£ DELETE with COMMIT

```sql
BEGIN TRAN;

DELETE FROM Students
WHERE StudentID = 3;

COMMIT;
GO
```

âœ” Deletion saved permanently

---

## 1ï¸âƒ£2ï¸âƒ£ DELETE and FOREIGN KEY Constraints

DELETE **fails** if:

* Row is referenced by another table
* Foreign key constraint exists

```sql
DELETE FROM Departments WHERE DeptID = 1;
```

âŒ Error if employees reference this department

---

## 1ï¸âƒ£3ï¸âƒ£ DELETE Errors (Common)

| Error                   | Reason              |
| ----------------------- | ------------------- |
| FK constraint violation | Child records exist |
| Conversion error        | Wrong datatype      |
| Permission denied       | No DELETE rights    |

---

## 1ï¸âƒ£4ï¸âƒ£ DELETE vs TRUNCATE vs DROP (Interview Favorite)

| Feature           | DELETE | TRUNCATE | DROP    |
| ----------------- | ------ | -------- | ------- |
| Removes data      | âœ…      | âœ…        | âœ…       |
| Removes structure | âŒ      | âŒ        | âœ…       |
| WHERE allowed     | âœ…      | âŒ        | âŒ       |
| Rollback          | âœ…      | âœ…        | âŒ       |
| Speed             | Slow   | Fast     | Fastest |

---

## 1ï¸âƒ£5ï¸âƒ£ DELETE Best Practices 
<br>âœ” Always run SELECT before DELETE
<br>âœ” Always use WHERE clause
<br>âœ” Use transactions for safety
<br>âœ” Check foreign key dependencies
<br>âœ” Never delete directly in production

---

## ğŸ§  One-Line Memory

> **DELETE removes rows from a table but keeps the table structure**
