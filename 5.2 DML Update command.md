# üìò UPDATE Command ‚Äì SQL Server (SSMS)

---

## 1Ô∏è‚É£ What is UPDATE Command?

The **`UPDATE` command** is a **DML (Data Manipulation Language)** statement used to **modify existing data (rows)** in a table.

<br>> ‚úî UPDATE works on **data**, not structure
<br>> ‚úî Table **must already exist**
<br>> ‚úî UPDATE changes **existing rows only**

---

## 2Ô∏è‚É£ Why UPDATE Command is Used?

UPDATE is used when:

* Data needs correction
* Business rules change
* Values must be recalculated
* User information is modified
* Application updates records

üëâ **Without UPDATE, incorrect data cannot be fixed**

---

## 3Ô∏è‚É£ Position of UPDATE in DML Flow

> **INSERT ‚Üí UPDATE ‚Üí DELETE**

INSERT adds data, UPDATE modifies it, DELETE removes it.

---

## 4Ô∏è‚É£ Basic UPDATE Syntax

### üîπ Syntax

```sql
UPDATE table_name
SET column_name = value
WHERE condition;
GO
```

---

### üîπ Example

```sql
UPDATE Students
SET Marks = 90
WHERE StudentID = 1;
GO
```

---

### üîπ What happens?

* Only rows matching the WHERE condition are updated
* Table structure remains unchanged

‚ö†Ô∏è **WHERE clause is mandatory in real projects**

### Why WHERE is CRITICAL?

Without WHERE:

```sql
UPDATE Students SET Marks = 100;
```

‚ùå Updates ALL rows

With WHERE:
```sql
UPDATE Students SET Marks = 100 WHERE StudentID = 1;
```

‚úî Updates only required row

---

## 5Ô∏è‚É£ UPDATE Multiple Columns

### üîπ Syntax

```sql
UPDATE table_name
SET column1 = value1,
    column2 = value2
WHERE condition;
GO
```

---

### üîπ Example

```sql
UPDATE Students
SET StudentName = 'Anam Yashwanth',
    Marks = 95
WHERE StudentID = 1;
GO
```

---

### üîπ What happens?

* Multiple columns updated in one row
* All changes applied together

---

## 6Ô∏è‚É£ UPDATE Without WHERE (Dangerous)

```sql
UPDATE Students
SET Marks = 50;
GO
```

### What happens?

* **All rows** updated
* Data loss risk
* Very common interview warning

‚ùå **Never do this in production**

---

## 7Ô∏è‚É£ UPDATE Using Conditions

### Example

```sql
UPDATE Students
SET Marks = Marks + 5
WHERE Marks < 80;
GO
```

### What happens?

* Marks increased by 5 for selected rows
* Conditional update applied

---

## 8Ô∏è‚É£ UPDATE Using Another Table (JOIN UPDATE)

### üîπ Syntax

```sql
UPDATE target
SET target.column = source.column
FROM target_table target
JOIN source_table source
ON condition;
GO
```

---

### üîπ Example

```sql
UPDATE S
SET S.Marks = R.NewMarks
FROM Students S
JOIN Results R
ON S.StudentID = R.StudentID;
GO
```

### What happens?

* Data synced from another table
* Very common in real-time projects

---

### JOIN UPDATE with Additional WHERE Filter
Scenario

Update marks only for students scoring below 70.

```sql
UPDATE S
SET S.Marks = R.NewMarks
FROM Students S
JOIN Results R
ON S.StudentID = R.StudentID
WHERE S.Marks < 70;
GO
```
### Safe JOIN UPDATE (Best Practice)
Always Preview Before UPDATE
```sql
SELECT S.StudentID, S.Marks, R.NewMarks
FROM Students S
JOIN Results R
ON S.StudentID = R.StudentID
WHERE R.NewMarks > S.Marks;
```

<br>‚úî Verify rows
<br>‚úî Then run UPDATE

## 9Ô∏è‚É£ UPDATE with NULL Values

```sql
UPDATE Students
SET Marks = NULL
WHERE StudentID = 2;
GO
```

<br>‚úî Allowed only if column allows NULL
<br>‚ùå Fails if NOT NULL constraint exists

---

## üîü UPDATE with TRANSACTION (SSMS Safety)

```sql
BEGIN TRAN;

UPDATE Students
SET Marks = 100
WHERE StudentID = 3;

ROLLBACK;
GO
```

### What happens?

* Change applied temporarily
* ROLLBACK cancels update
* Data remains unchanged

---

## 1Ô∏è‚É£1Ô∏è‚É£ UPDATE with COMMIT

```sql
BEGIN TRAN;

UPDATE Students
SET Marks = 88
WHERE StudentID = 3;

COMMIT;
GO
```

‚úî Change saved permanently

---

## 1Ô∏è‚É£2Ô∏è‚É£ UPDATE and Constraints

UPDATE **fails** when:

* CHECK condition violated
* FOREIGN KEY violated
* UNIQUE constraint violated
* NOT NULL violated

---

## 1Ô∏è‚É£3Ô∏è‚É£ UPDATE Errors (Common)

| Error                               | Reason              |
| ----------------------------------- | ------------------- |
| Conversion failed                   | Wrong datatype      |
| Cannot insert NULL                  | NOT NULL constraint |
| Subquery returned more than one row | Bad subquery        |
| Constraint violation                | Rule broken         |

---

## 1Ô∏è‚É£4Ô∏è‚É£ UPDATE Best Practices (Real Projects)

<br>‚úî Always run SELECT before UPDATE
<br>‚úî Always use WHERE clause
<br>‚úî Use transactions for safety
<br>‚úî Avoid updating primary keys
<br>‚úî Take backup before bulk updates

---

## 1Ô∏è‚É£5Ô∏è‚É£ UPDATE vs INSERT vs DELETE

| UPDATE         | INSERT    | DELETE         |
| -------------- | --------- | -------------- |
| Modifies rows  | Adds rows | Removes rows   |
| WHERE required | No WHERE  | WHERE required |

---

## üß† One-Line Memory

> **UPDATE modifies existing data in a table**
